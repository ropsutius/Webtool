<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <title>Webtool</title>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="./" />

    <script src="https://cdn.jsdelivr.net/npm/three@0.131.3/build/three.js"></script>
    <script src="./src/UTIF.js"></script>
    <script defer type="module" src="./refactor/index.js"></script>
    <link rel="stylesheet" href="index.css" />
    <title>Webtool</title>
  </head>
  <body>
    <div id="new" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <span class="close" onclick="app.closeNew()">&times;</span>
          <h2>Create New Canvas</h2>
        </div>
        <div class="modal-body">
          <form>
            <select name="layers" id="layers">
              <option value="1" selected>Single</option>
              <option value="2">Double</option>
              <option value="3">Triple</option>
              <option value="4">Quadruple</option>
            </select>
            <br />
            <select name="weave" id="weave">
              <option value="blank" selected>Blank</option>
              <option value="plain">Plain weave</option>
            </select>
            <br />
            <label for="width">Width:</label>
            <input
              id="width"
              type="number"
              name="width"
              min="1"
              max="1000"
              value="10"
              required
            />
            <label for="height">Height:</label>
            <input
              id="height"
              type="number"
              name="height"
              min="1"
              max="1000"
              value="10"
              required
            />
            <br />
            <button type="button" class="btn" onclick="app.createNewCanvas()">
              Create Canvas
            </button>
            <button type="button" class="btn" onclick="app.closeNew()">
              Cancel
            </button>
          </form>
        </div>
      </div>
    </div>

    <div id="export" class="modal download">
      <div class="modal-content">
        <div class="modal-header">
          <span class="close" onclick="app.closeExport()">&times;</span>
          <h2>Export Project as TIF-file</h2>
        </div>
        <div class="modal-body">
          <form>
            <input type="text" name="name" id="exportName" />
            <label for="name">.tif</label>
            <br />
            <button type="button" class="btn" onclick="app.exportTIFF()">
              Download
            </button>
            <button type="button" class="btn" onclick="app.closeExport()">
              Cancel
            </button>
          </form>
        </div>
      </div>
    </div>

    <div id="save" class="modal download">
      <div class="modal-content">
        <div class="modal-header">
          <span class="close" onclick="app.closeSave()">&times;</span>
          <h2>Save Project as a Text File</h2>
        </div>
        <div class="modal-body">
          <form>
            <input type="text" name="name" id="saveName" />
            <label for="name">.txt</label>
            <br />
            <button type="button" class="btn" onclick="app.saveProject()">
              Download
            </button>
            <button type="button" class="btn" onclick="app.closeSave()">
              Cancel
            </button>
          </form>
        </div>
      </div>
    </div>

    <div id="open" class="modal download">
      <div class="modal-content">
        <div class="modal-header">
          <span class="close" onclick="app.closeOpen()">&times;</span>
          <h2>Open Project file</h2>
        </div>
        <div class="modal-body">
          <form>
            <label for="name">Choose a file: </label>
            <input
              type="file"
              name="name"
              id="openName"
              onchange="app.openFile(event)"
            />
            <br />
            <button type="button" class="btn" onclick="app.openFile()">
              Open
            </button>
            <button type="button" class="btn" onclick="app.closeOpen()">
              Cancel
            </button>
          </form>
        </div>
      </div>
    </div>

    <div class="navbar">
      <div class="dropdown">
        <button class="dropbtn">File</button>
        <div class="dropdown-content">
          <a onclick="app.openNew()">New</a>
          <a onclick="app.openOpen()">Open</a>
          <a onclick="app.openSave()">Save</a
          ><a onclick="app.openExport()">Export</a>
        </div>
      </div>

      <div class="dropdown">
        <button class="dropbtn">Edit</button>
        <div class="dropdown-content">
          <a href="#">Undo (N/A)</a> <a href="#">Redo (N/A)</a>
          <a href="#">Copy (N/A)</a> <a href="#">Cut (N/A)</a>
          <a href="#">Paste (N/A)</a> <a onclick="app.loadLayer()">Layers</a>
        </div>
      </div>

      <div class="dropdown">
        <button class="dropbtn">View</button>
        <div class="dropdown-content">
          <a onclick="app.toDualView()">Dual view</a>
          <a onclick="app.toPixelView()">Pixel view</a>
          <a onclick="app.to3dView()">3D view</a>
        </div>
      </div>
    </div>

    <div class="toolbar"><a href="#">P</a> <a href="#">M</a></div>

    <div id="threeD-view" class="webgl-content"></div>
    <div id="pixel-view" class="webgl-content"></div>
  </body>
</html>
